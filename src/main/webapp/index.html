<!doctype html>
<html ng-app="mqttApp">
<head>
<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
<script src="mqttApp.js"></script>
<script src="browserMqtt.js"></script>
</head>
<body>
	<div ng-controller="mqttController as mqttCli">
		<section>
			<form ng-submit="mqttCli.connect()">
				<select ng-model="mqttServerSelected"
					ng-options="svr.text for svr in servers" ng-change="updateServer()"></select>
				<input type="text" placeholder="{{mqttServerAddr}}" size="32"
					ng-model="mqttServerAddr"> <input class="btn-primary"
					type="submit" value="connect"> <input class="btn-primary"
					type="submit" value="disconnect">
			</form>
		</section>
		<section>
			<hr>
			<form ng-submit="mqttCli.subscribe()">
				TopicName: <input type="text" placeholder="redhatkkdemo" size="32"
					ng-model="mqttCli.subscribeTopicName"> <input
					class="btn-primary" type="submit" value="subscribe">
			</form>

			<div style="height: 10em;">
				<div ng-repeat="msg in topicMessages">{{msg.text}}</div>
			</div>
		</section>

		<section>
			<hr>
			<form ng-submit="mqttCli.publish()">
				<input type="text" placeholder="redhatkkdemo" size="32"
					ng-model="mqttCli.publishTopicName"> <input
					class="btn-primary" type="submit" value="publish">
				<section>Messages:</section>
				<section>
					<input type="text" placeholder="Hello Red Hat" size="32"
						ng-maxlength="64" ng-model="mqttCli.publishMessage">
				</section>
			</form>
		</section>
	</div>
</body>
</html>

